<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>BaflUtils</title>
<link href="../../../stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../index/index.html"><img
src="../../../stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="index.html"><img src="../../../stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="index.html"><img src="../../../stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Application&nbsp;Utilities</a>&nbsp;<span class="separator">&#187;</span>
BaflUtils</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code>bautils.h</code>
<br>Link against: <code>bafl.lib</code>
</p>
</div><div class="Head1">
<a name="%3a%3aBaflUtils"></a>

<h1>Class <code>BaflUtils</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>BaflUtils</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.0
</p><h4 class="subheading">Description</h4>
<p>Provides simple-to-use file system utilities.</p>
<p>The functions listed in &quot;Copying, renaming, and deleting files&quot;
create and use a <code>CFileMan</code> object. They are useful for one-off
calls, but for repeated use it is more efficient to use <code>CFileMan</code>
directly.</p>
<p>Note that there is a very similiar group of functions available in
<code>EikFileUtils</code>, which may be easier to use in GUI applications, as
they do not require a file server session to be passed.</p>
<p>Defined in <code>BaflUtils</code>:
<br><code class="ApiItem"><a href="BaflUtilsClass.html#%3a%3aBaflUtils%3a%3aAbbreviateFileName%28%29" title="Abbreviates a file name">AbbreviateFileName()</a></code>, <code class="ApiItem"><a href="BaflUtilsClass.html#%3a%3aBaflUtils%3a%3aCheckFolder%28%29" title="Checks that the specified folder can be opened">CheckFolder()</a></code>, <code class="ApiItem"><a href="BaflUtilsClass.html#%3a%3aBaflUtils%3a%3aCheckWhetherFullNameRefersToFolder%28%29" title="Checks if a string is a valid folder name">CheckWhetherFullNameRefersToFolder()</a></code>, <code class="ApiItem"><a href="BaflUtilsClass.html#%3a%3aBaflUtils%3a%3aCopyFile%28%29" title="Copies one or more files">CopyFile()</a></code>, <code class="ApiItem"><a href="BaflUtilsClass.html#%3a%3aBaflUtils%3a%3aCopyWithTruncation%28%29" title="Copies a descriptor, abbreviating it to fit the destination descriptor">CopyWithTruncation()</a></code>, <code class="ApiItem"><a href="BaflUtilsClass.html#%3a%3aBaflUtils%3a%3aDeleteFile%28%29" title="Deletes one or more files">DeleteFile()</a></code>, <code class="ApiItem"><a href="BaflUtilsClass.html#%3a%3aBaflUtils%3a%3aDiskIsReadOnly%28%29" title="Checks if the specified drive is read-only">DiskIsReadOnly()</a></code>, <code class="ApiItem"><a href="BaflUtilsClass.html#%3a%3aBaflUtils%3a%3aDriveAndPathFromFullName%28%29" title="Gets the drive letter and path from a file name">DriveAndPathFromFullName()</a></code>, <code class="ApiItem"><a href="BaflUtilsClass.html#%3a%3aBaflUtils%3a%3aEnsurePathExistsL%28%29" title="Makes one or more directories, if they do not already exist">EnsurePathExistsL()</a></code>, <code class="ApiItem"><a href="BaflUtilsClass.html#%3a%3aBaflUtils%3a%3aExtractAppNameFromFullName%28%29" title="Gets the application name from a full thread name">ExtractAppNameFromFullName()</a></code>, <code class="ApiItem"><a href="BaflUtilsClass.html#%3a%3aBaflUtils%3a%3aFileExists%28%29" title="Checks if the specified file exists">FileExists()</a></code>, <code class="ApiItem"><a href="BaflUtilsClass.html#%3a%3aBaflUtils%3a%3aFolderExists%28%29" title="Tests whether a folder exists">FolderExists()</a></code>, <code class="ApiItem"><a href="BaflUtilsClass.html#%3a%3aBaflUtils%3a%3aFolderNameFromFullName%28%29" title="Gets the folder name from a path">FolderNameFromFullName()</a></code>, <code class="ApiItem"><a href="BaflUtilsClass.html#%3a%3aBaflUtils%3a%3aGetSystemDrive%28%29" title="Gets the value of the system drive, if one has been set">GetSystemDrive()</a></code>, <code class="ApiItem"><a href="BaflUtilsClass.html#%3a%3aBaflUtils%3a%3aIsFirstDriveForSocket%28%29" title="Tests whether the specified drive corresponds to the primary partition in a removable media slot">IsFirstDriveForSocket()</a></code>, <code class="ApiItem"><a href="BaflUtilsClass.html#%3a%3aBaflUtils%3a%3aIsFolder%28%29" title="Checks if the specified item is a folder">IsFolder()</a></code>, <code class="ApiItem"><a href="BaflUtilsClass.html#%3a%3aBaflUtils%3a%3aMostSignificantPartOfFullName%28%29" title="Gets the folder name if the specified item is a valid folder name, otherwise gets the file name">MostSignificantPartOfFullName()</a></code>, <code class="ApiItem"><a href="BaflUtilsClass.html#%3a%3aBaflUtils%3a%3aNearestLanguageFile%28%29" title="Searches for the file with the correct language extension for the language of the current locale, or failing this, the best matching file">NearestLanguageFile()</a></code>, <code class="ApiItem"><a href="BaflUtilsClass.html#%3a%3aBaflUtils%3a%3aParse%28%29" title="Checks if a specified file name can be parsed">Parse()</a></code>, <code class="ApiItem"><a href="BaflUtilsClass.html#%3a%3aBaflUtils%3a%3aPathExists%28%29" title="Tests whether a path exists">PathExists()</a></code>, <code class="ApiItem"><a href="BaflUtilsClass.html#%3a%3aBaflUtils%3a%3aRemoveSystemDirectory%28%29" title="Removes "System" from a list of directory entries">RemoveSystemDirectory()</a></code>, <code class="ApiItem"><a href="BaflUtilsClass.html#%3a%3aBaflUtils%3a%3aRenameFile%28%29" title="Renames or moves one or more files or directories">RenameFile()</a></code>, <code class="ApiItem"><a href="BaflUtilsClass.html#%3a%3aBaflUtils%3a%3aRootFolderPath%28%29" title="Gets the root folder for the specified drive">RootFolderPath()</a></code>, <code class="ApiItem"><a href="BaflUtilsClass.html#%3a%3aBaflUtils%3a%3aSortByTable%28%29" title="Sorts files by UID">SortByTable()</a></code>, <code class="ApiItem"><a href="BaflUtilsClass.html#%3a%3aBaflUtils%3a%3aUidTypeMatches%28%29" title="Tests whether two UID types match">UidTypeMatches()</a></code>, <code class="ApiItem"><a href="BaflUtilsClass.html#%3a%3aBaflUtils%3a%3aUpdateDiskListL%28%29" title="Retrieves a list of all drives present on the system">UpdateDiskListL()</a></code>, <code class="ApiItem"><a href="BaflUtilsClass.html#%3a%3aBaflUtils%3a%3aValidateFolderNameTypedByUserL%28%29" title="Checks if a folder name (without drive or path) is valid and returns the full name of the folder">ValidateFolderNameTypedByUserL()</a></code>
</p>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="../FileServerClientSide/CFileManClass.html#%3a%3aCFileMan" title="File management services which accept the use of wildcards -- synchronous and asynchronous"><code class="ApiItem">CFileMan</code></a></li>
<li><a href="../UikonCore/class_EikFileUtils.html#%3a%3aEikFileUtils" title="This class provides a set of drive, path and file utility functions"><code class="ApiItem">EikFileUtils</code></a></li>
</ul>
<a name="2.6"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Checking whether a file, folder or path exists</h2>
</div><div class="Bodytext">
<a name="2.6.2"></a></div><div class="Head3">
<a name="%3a%3aBaflUtils%3a%3aEnsurePathExistsL%28%29"></a>
<hr size="1" noshade>
<h3><code>EnsurePathExistsL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static void EnsurePathExistsL(RFs&amp; aFs,const TDesC&amp; aFileName);</code></p><h4 class="subheading">Description</h4>
<p>Makes one or more directories, if they do not already exist.
</p>
<p>Any valid path component in the specified path that does not
already exist is created as a directory.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">RFs&amp; aFs</code></td>
<td class="Cell"><p class="ValueDesc">File server session</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC&amp; aFileName</code></td>
<td class="Cell"><p class="ValueDesc">Path to ensure exists</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Leave codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">KErrAlreadyExists</code></td>
<td class="Cell"><p class="ValueDesc"> The path already exists </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="../FileServerClientSide/RFsClass.html#%3a%3aRFs%3a%3aMkDirAll%28%29" title="Makes one or more directories"><code class="ApiItem">RFs::MkDirAll()</code></a></li>
</ul>
<a name="2.6.3"></a></div><div class="Head3">
<a name="%3a%3aBaflUtils%3a%3aFileExists%28%29"></a>
<hr size="1" noshade>
<h3><code>FileExists()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static TBool FileExists(const RFs&amp; aFs,const TDesC&amp; aFileName);</code></p><h4 class="subheading">Description</h4>
<p>Checks if the specified file exists.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">RFs&amp; aFs</code></td>
<td class="Cell"><p class="ValueDesc">File server session</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC&amp; aFileName</code></td>
<td class="Cell"><p class="ValueDesc">File to check</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool</code></td>
<td class="Cell"><p class="ValueDesc">True if the file exists, otherwise false</p></td>
</tr>
</table></td></tr></table>
<a name="2.6.4"></a></div><div class="Head3">
<a name="%3a%3aBaflUtils%3a%3aFolderExists%28%29"></a>
<hr size="1" noshade>
<h3><code>FolderExists()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static TBool FolderExists(RFs&amp; aFs, const TDesC&amp; aFolderName);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.1
</p><h4 class="subheading">Description</h4>
<p>Tests whether a folder exists.</p>
<p>The folder is specified in a path. The path can omit the drive
letter, in which case the drive letter is taken from the session path.</p>
<p>If the path is badly formed, for instance if it contains
illegal characters, or any directory name consists of a single or double dot,
or any directory name includes wildcard characters, the function returns
false.</p>
<p>A filename may be specified in the path, and is ignored, but
note that if a filename is included in the path, its name must not contain any
illegal characters â€” this is considered a badly formed path and causes the
function to return false. If no filename is specified, the path should end in a
backslash.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">RFs&amp; aFs</code></td>
<td class="Cell"><p class="ValueDesc">A connected session with the file server.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC&amp; aFolderName</code></td>
<td class="Cell"><p class="ValueDesc">A path specifying the folder to test for.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool</code></td>
<td class="Cell"><p class="ValueDesc">True if the folder specified in <code>aFolderName</code>
exists, false if not. False is also returned if the specified path is badly
formed.</p></td>
</tr>
</table></td></tr></table>
<a name="2.6.5"></a></div><div class="Head3">
<a name="%3a%3aBaflUtils%3a%3aPathExists%28%29"></a>
<hr size="1" noshade>
<h3><code>PathExists()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static TBool PathExists(RFs&amp; aFs,const TDesC&amp; aFileName);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.1
</p><h4 class="subheading">Description</h4>
<p>Tests whether a path exists.</p>
<p>The path should contain a drive letter and a directory, or
false is returned. False is also returned if it contains a filename or filename
extension.</p>
<p>If the path is badly formed, for instance if it contains
illegal characters, or any directory name consists of a single or double dot,
or any directory name includes wildcard characters, the function returns
false.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">RFs&amp; aFs</code></td>
<td class="Cell"><p class="ValueDesc">A connected session with the file server.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC&amp; aFileName</code></td>
<td class="Cell"><p class="ValueDesc">The path to test for. It should end in a backslash.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool</code></td>
<td class="Cell"><p class="ValueDesc">True if the path exists, false if not. False is also returned
if the specified path is badly formed.</p></td>
</tr>
</table></td></tr></table>
<a name="2.7"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Copying, renaming, and deleting files</h2>
</div><div class="Bodytext">
<a name="2.7.2"></a></div><div class="Head3">
<a name="%3a%3aBaflUtils%3a%3aCopyFile%28%29"></a>
<hr size="1" noshade>
<h3><code>CopyFile()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static TInt CopyFile(RFs&amp; aFs, const TDesC&amp; aSourceFullName, const TDesC&amp; aTargetFullName, TUint aSwitch = CFileMan::EOverWrite);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.1
</p><h4 class="subheading">Description</h4>
<p>Copies one or more files.</p>
<p>For more details, see <code>CFileMan::Copy()</code>.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">RFs&amp; aFs</code></td>
<td class="Cell"><p class="ValueDesc">File server session</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC&amp; aSourceFullName</code></td>
<td class="Cell"><p class="ValueDesc">Path indicating the file(s) to be copied. Any path components
that are not specified here will be taken from the session path. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC&amp; aTargetFullName</code></td>
<td class="Cell"><p class="ValueDesc">Path indicating the directory into which the file(s) are to be
copied </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TUint aSwitch =
CFileMan::EOverWrite</code></td>
<td class="Cell"><p class="ValueDesc">Set this to zero for no overwriting and no recursion;
<code>CFileMan::EOverWrite</code> to overwrite files with the same name; or
<code>CFileMan::ERecurse</code> for recursion. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="../FileServerClientSide/CFileManClass.html#%3a%3aCFileMan%3a%3aCopy%28%29" title="Copies one or more files -- asynchronous overload"><code class="ApiItem">CFileMan::Copy()</code></a></li>
</ul>
<a name="2.7.3"></a></div><div class="Head3">
<a name="%3a%3aBaflUtils%3a%3aDeleteFile%28%29"></a>
<hr size="1" noshade>
<h3><code>DeleteFile()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static TInt DeleteFile(RFs&amp; aFs, const TDesC&amp; aSourceFullName, TUint aSwitch = 0);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.1
</p><h4 class="subheading">Description</h4>
<p>Deletes one or more files.</p>
<p>For more details, see <code>CFileMan::Delete()</code>.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">RFs&amp; aFs</code></td>
<td class="Cell"><p class="ValueDesc">File server session</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC&amp; aSourceFullName</code></td>
<td class="Cell"><p class="ValueDesc">Path indicating the file(s) to be deleted. May either be a full
path, or relative to the session path. Use wildcards to specify more than one
file. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TUint aSwitch = 0</code></td>
<td class="Cell"><p class="ValueDesc">Specify <code>CFileMan::ERecurse</code> for recursion, zero for
no recursion. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="../FileServerClientSide/CFileManClass.html#%3a%3aCFileMan%3a%3aDelete%28%29" title="Deletes one or more files -- asynchronous overload"><code class="ApiItem">CFileMan::Delete()</code></a></li>
</ul>
<a name="2.7.4"></a></div><div class="Head3">
<a name="%3a%3aBaflUtils%3a%3aRenameFile%28%29"></a>
<hr size="1" noshade>
<h3><code>RenameFile()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static TInt RenameFile(RFs&amp; aFs, const TDesC&amp; aOldFullName, const TDesC&amp; aNewFullName, TUint aSwitch = CFileMan::EOverWrite);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.1
</p><h4 class="subheading">Description</h4>
<p>Renames or moves one or more files or directories. </p>
<p>It can be used to move one or more files by specifying
different destination and source directories.</p>
<p>For more details, see <code>CFileMan::Rename()</code>.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">RFs&amp; aFs</code></td>
<td class="Cell"><p class="ValueDesc">File server session</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC&amp; aOldFullName</code></td>
<td class="Cell"><p class="ValueDesc">Path specifying the file(s) to be renamed. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC&amp; aNewFullName</code></td>
<td class="Cell"><p class="ValueDesc">Path specifying the new name for the files and/or the new
directory. Any directories specified in this path that do not exist will be
created. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TUint aSwitch =
CFileMan::EOverWrite</code></td>
<td class="Cell"><p class="ValueDesc">Specify zero for no overwriting, or
<code>CFileMan::EOverWrite</code> to overwrite files with the same name. This
function cannot operate recursively. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="../FileServerClientSide/CFileManClass.html#%3a%3aCFileMan%3a%3aRename%28%29" title="Renames one or more files -- asynchronous overload"><code class="ApiItem">CFileMan::Rename()</code></a></li>
</ul>
<a name="2.8"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Parsing and manipulating file names</h2>
</div><div class="Bodytext">
<a name="2.8.2"></a></div><div class="Head3">
<a name="%3a%3aBaflUtils%3a%3aAbbreviateFileName%28%29"></a>
<hr size="1" noshade>
<h3><code>AbbreviateFileName()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static void AbbreviateFileName(const TFileName&amp; aOriginalFileName, TDes&amp; aAbbreviatedFileName);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.1
</p><h4 class="subheading">Description</h4>
<p>Abbreviates a file name.</p>
<p>If <code>aOriginalFileName</code> is less than the maximum
length of <code>aAbbreviatedFileName</code>, then the name is simply copied to
<code>aAbbreviatedFileName</code>.</p>
<p>If this is not so, then the left-most characters of
<code>aOriginalFileName</code> are copied to <code>aAbbreviatedFileName</code>,
up to <code>aAbbreviatedFileName</code>'s maximum length-1.
<code>aAbbreviatedFileName</code>'s first character is set to be an
ellipsis.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const
TFileName&amp; aOriginalFileName</code></td>
<td class="Cell"><p class="ValueDesc">Original file name</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TDes&amp; aAbbreviatedFileName</code></td>
<td class="Cell"><p class="ValueDesc">On return, abbreviated file name</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.3"></a></div><div class="Head3">
<a name="%3a%3aBaflUtils%3a%3aCheckWhetherFullNameRefersToFolder%28%29"></a>
<hr size="1" noshade>
<h3><code>CheckWhetherFullNameRefersToFolder()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static TInt CheckWhetherFullNameRefersToFolder(const TDesC&amp; aFullName, TBool&amp; aIsFolder);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.1
</p><h4 class="subheading">Description</h4>
<p>Checks if a string is a valid folder name.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC&amp; aFullName</code></td>
<td class="Cell"><p class="ValueDesc">String to check</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TBool&amp; aIsFolder</code></td>
<td class="Cell"><p class="ValueDesc">True if <code>aFullName</code> is a valid folder name,
otherwise false</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes (probably because <code>aFullName</code> cannot be
parsed).</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.4"></a></div><div class="Head3">
<a name="%3a%3aBaflUtils%3a%3aCopyWithTruncation%28%29"></a>
<hr size="1" noshade>
<h3><code>CopyWithTruncation()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static void CopyWithTruncation(TDes&amp; aDest,const TDesC&amp; aSrc,TChar aTruncationSymbol=KBaflCharTruncation);</code></p><h4 class="subheading">Description</h4>
<p>Copies a descriptor, abbreviating it to fit the destination
descriptor.</p>
<p>If <code>aSrc</code> is less than the maximum length of
<code>aDest</code>, then the string is simply copied to
<code>aDest</code>.</p>
<p>If this is not so, then the left-most characters of
<code>aSrc</code> are copied to <code>aDest</code>, up to <code>aDest</code>'s
maximum length-1. <code>aDest</code>'s final character is set to be
<code>aTruncationSymbol</code>.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TDes&amp; aDest</code></td>
<td class="Cell"><p class="ValueDesc">On return, the truncated string</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC&amp; aSrc</code></td>
<td class="Cell"><p class="ValueDesc">The string to truncate</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TChar
aTruncationSymbol=KBaflCharTruncation</code></td>
<td class="Cell"><p class="ValueDesc">The truncation character to add</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.5"></a></div><div class="Head3">
<a name="%3a%3aBaflUtils%3a%3aDriveAndPathFromFullName%28%29"></a>
<hr size="1" noshade>
<h3><code>DriveAndPathFromFullName()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static TFileName DriveAndPathFromFullName(const TDesC&amp; aFullName);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.1
</p><h4 class="subheading">Description</h4>
<p>Gets the drive letter and path from a file name. </p>
<p>This is in the form: drive-letter:\path\. The drive letter is
folded using class <code>TCharF</code>. </p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC&amp; aFullName</code></td>
<td class="Cell"><p class="ValueDesc">File name</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TFileName</code></td>
<td class="Cell"><p class="ValueDesc">The drive and path</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.6"></a></div><div class="Head3">
<a name="%3a%3aBaflUtils%3a%3aFolderNameFromFullName%28%29"></a>
<hr size="1" noshade>
<h3><code>FolderNameFromFullName()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static TFileName FolderNameFromFullName(const TDesC&amp; aFullName);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.1
</p><h4 class="subheading">Description</h4>
<p>Gets the folder name from a path.</p>
<p>For example, if the path is &quot;c:\documents\word\mydoc1&quot;, then
&quot;word&quot; is returned.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC&amp; aFullName</code></td>
<td class="Cell"><p class="ValueDesc">A path.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TFileName</code></td>
<td class="Cell"><p class="ValueDesc">The folder name.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.7"></a></div><div class="Head3">
<a name="%3a%3aBaflUtils%3a%3aMostSignificantPartOfFullName%28%29"></a>
<hr size="1" noshade>
<h3><code>MostSignificantPartOfFullName()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static TInt MostSignificantPartOfFullName(const TDesC&amp; aFullName, TFileName&amp; aMostSignificantPart);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.1
</p><h4 class="subheading">Description</h4>
<p>Gets the folder name if the specified item is a valid folder
name, otherwise gets the file name.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC&amp; aFullName</code></td>
<td class="Cell"><p class="ValueDesc">Item to parse</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TFileName&amp;
aMostSignificantPart</code></td>
<td class="Cell"><p class="ValueDesc">Folder or file name</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.8"></a></div><div class="Head3">
<a name="%3a%3aBaflUtils%3a%3aParse%28%29"></a>
<hr size="1" noshade>
<h3><code>Parse()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static TInt Parse(const TDesC&amp; aName);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.1
</p><h4 class="subheading">Description</h4>
<p>Checks if a specified file name can be parsed.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC&amp; aName</code></td>
<td class="Cell"><p class="ValueDesc">Name to parse</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.9"></a></div><div class="Head3">
<a name="%3a%3aBaflUtils%3a%3aRootFolderPath%28%29"></a>
<hr size="1" noshade>
<h3><code>RootFolderPath()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static TFileName RootFolderPath(const TBuf&lt;1&gt; aDriveLetter);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.1
</p><h4 class="subheading">Description</h4>
<p>Gets the root folder for the specified drive.</p>
<p>This is simply the drive letter plus &quot;:\&quot;.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const
TBuf&lt;1&gt; aDriveLetter</code></td>
<td class="Cell"><p class="ValueDesc">Drive letter</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TFileName</code></td>
<td class="Cell"><p class="ValueDesc">Root folder</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.10"></a></div><div class="Head3">
<a name="%3a%3aBaflUtils%3a%3aValidateFolderNameTypedByUserL%28%29"></a>
<hr size="1" noshade>
<h3><code>ValidateFolderNameTypedByUserL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static TInt ValidateFolderNameTypedByUserL(const RFs&amp; aFs, const TDesC&amp; aFolderNameTypedByUser, const TDesC&amp; aCurrentPath, TFileName&amp; aNewFolderFullName);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.1
</p><h4 class="subheading">Description</h4>
<p>Checks if a folder name (without drive or path) is valid and
returns the full name of the folder.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const
RFs&amp; aFs</code></td>
<td class="Cell"><p class="ValueDesc">File server session</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC&amp; aFolderNameTypedByUser</code></td>
<td class="Cell"><p class="ValueDesc">Folder name to check</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC&amp; aCurrentPath</code></td>
<td class="Cell"><p class="ValueDesc">Path to which to add the folder</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TFileName&amp; aNewFolderFullName</code></td>
<td class="Cell"><p class="ValueDesc"><code>aFolderNameTypedByUser</code> appended to
<code>aCurrentPath</code></p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.11"></a></div><div class="Head3">
<a name="%3a%3aBaflUtils%3a%3aRemoveSystemDirectory%28%29"></a>
<hr size="1" noshade>
<h3><code>RemoveSystemDirectory()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static void RemoveSystemDirectory(CDir&amp; aDir);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.1
</p><h4 class="subheading">Description</h4>
<p>Removes &quot;System&quot; from a list of directory entries. </p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CDir&amp; aDir</code></td>
<td class="Cell"><p class="ValueDesc">Array of directory entries</p></td>
</tr>
</table></td></tr></table>
<a name="2.9"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Miscellaneous</h2>
</div><div class="Bodytext">
<a name="2.9.2"></a></div><div class="Head3">
<a name="%3a%3aBaflUtils%3a%3aCheckFolder%28%29"></a>
<hr size="1" noshade>
<h3><code>CheckFolder()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static TInt CheckFolder(RFs&amp; aFs, const TDesC&amp; aFolderName);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.1
</p><h4 class="subheading">Description</h4>
<p>Checks that the specified folder can be opened.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">RFs&amp; aFs</code></td>
<td class="Cell"><p class="ValueDesc">File server session</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC&amp; aFolderName</code></td>
<td class="Cell"><p class="ValueDesc">Folder to check</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes</p></td>
</tr>
</table></td></tr></table>
<a name="2.9.3"></a></div><div class="Head3">
<a name="%3a%3aBaflUtils%3a%3aDiskIsReadOnly%28%29"></a>
<hr size="1" noshade>
<h3><code>DiskIsReadOnly()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static TInt DiskIsReadOnly(RFs&amp; aFs, const TDesC&amp; aFullName, TBool&amp; aIsReadOnly);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.1
</p><h4 class="subheading">Description</h4>
<p>Checks if the specified drive is read-only.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">RFs&amp; aFs</code></td>
<td class="Cell"><p class="ValueDesc">File server session</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC&amp; aFullName</code></td>
<td class="Cell"><p class="ValueDesc">File name, including drive</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TBool&amp; aIsReadOnly</code></td>
<td class="Cell"><p class="ValueDesc">On return, true if the drive is read-only, otherwise
false</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes</p></td>
</tr>
</table></td></tr></table>
<a name="2.9.4"></a></div><div class="Head3">
<a name="%3a%3aBaflUtils%3a%3aExtractAppNameFromFullName%28%29"></a>
<hr size="1" noshade>
<h3><code>ExtractAppNameFromFullName()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static TPtrC ExtractAppNameFromFullName(const TFullName&amp; aName);</code></p><h4 class="subheading">Description</h4>
<p>Gets the application name from a full thread name.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const
TFullName&amp; aName</code></td>
<td class="Cell"><p class="ValueDesc">Thread name</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TPtrC</code></td>
<td class="Cell"><p class="ValueDesc">Application name</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="../ThreadsAndProcesses/RThreadClass.html#%3a%3aRThread" title="A handle to a thread"><code class="ApiItem">RThread</code></a></li>
</ul>
<a name="2.9.5"></a></div><div class="Head3">
<a name="%3a%3aBaflUtils%3a%3aIsFirstDriveForSocket%28%29"></a>
<hr size="1" noshade>
<h3><code>IsFirstDriveForSocket()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static TBool IsFirstDriveForSocket(TDriveUnit aDriveUnit);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.1
</p><h4 class="subheading">Description</h4>
<p>Tests whether the specified drive corresponds to the primary
partition in a removable media slot.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TDriveUnit aDriveUnit</code></td>
<td class="Cell"><p class="ValueDesc">The drive to check.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool</code></td>
<td class="Cell"><p class="ValueDesc">True if the drive is the primary partition in a removable media
slot. True is also returned if the drive is C:. False is returned
otherwise.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Notes:</h4>
<ul>
<li><note>The function assumes that the D: drive
corresponds to the primary partition on socket 0, and that the E: drive
corresponds to the primary partition on socket 1 (a socket is a slot for
removable media). This mapping may not always be the case because it is set up
in the variant layer of the Symbian OS.</note></li>
</ul>
<a name="2.9.6"></a></div><div class="Head3">
<a name="%3a%3aBaflUtils%3a%3aIsFolder%28%29"></a>
<hr size="1" noshade>
<h3><code>IsFolder()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static TInt IsFolder(const RFs&amp; aFs, const TDesC&amp; aFullName, TBool&amp; aIsFolder);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.1
</p><h4 class="subheading">Description</h4>
<p>Checks if the specified item is a folder.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const
RFs&amp; aFs</code></td>
<td class="Cell"><p class="ValueDesc">File server session</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC&amp; aFullName</code></td>
<td class="Cell"><p class="ValueDesc">Name to check</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TBool&amp; aIsFolder</code></td>
<td class="Cell"><p class="ValueDesc">True if <code>aFullName</code> is a folder, otherwise
false</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes</p></td>
</tr>
</table></td></tr></table>
<a name="2.9.7"></a></div><div class="Head3">
<a name="%3a%3aBaflUtils%3a%3aNearestLanguageFile%28%29"></a>
<hr size="1" noshade>
<h3><code>NearestLanguageFile()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static void NearestLanguageFile(const RFs&amp; aFs,TFileName&amp; aName);</code></p><h4 class="subheading">Description</h4>
<p>Searches for the file with the correct language extension for
the language of the current locale, or failing this, the best matching
file.</p>
<p>Symbian defines two-digit language values that identify natural
languages. These values are enumerated by the <code>TLanguage</code> enum. It
is suggested that files that have language-specific variants, such as resource
files, have extensions in which the last two digits are the language code. For
example, <code>somefile.r01</code> and <code>somefile.r02</code> would be the
English and French versions of the resource file <code>somefile</code>. In a
system set to the English locale, this function would return
<code>somefile.r01</code>; in a French locale,
<code>somefile.r02</code>.</p>
<p>For each language, the search is conducted across all the
drives available on the device. The first drive searched is the system drive
(as returned by <code>BaflUtils::GetSystemDrive()</code>), followed by the ROM
(z: drive), then all the other drives available on the device.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const
RFs&amp; aFs</code></td>
<td class="Cell"><p class="ValueDesc">File server session.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TFileName&amp; aName</code></td>
<td class="Cell"><p class="ValueDesc">File name as it would be without a language-specific extension.
On return, this is changed to the language-specific version. If no such file is
found, the name is unchanged.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="../LocaleSettings/TLanguageEnum.html#%3a%3aTLanguage" title="Language identity enumeration"><code class="ApiItem">TLanguage</code></a></li>
</ul>
<a name="2.9.8"></a></div><div class="Head3">
<a name="%3a%3aBaflUtils%3a%3aUidTypeMatches%28%29"></a>
<hr size="1" noshade>
<h3><code>UidTypeMatches()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static TBool UidTypeMatches(const TUidType&amp; aFileUid, const TUidType&amp; aMatchUid);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.1
</p><h4 class="subheading">Description</h4>
<p>Tests whether two UID types match.</p>
<p>A match is made if each UID in <code>aMatchUid</code> is either
identical to the corresponding one in <code>aFileUid</code>, or is
<code>KNullUid</code>.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const
TUidType&amp; aFileUid</code></td>
<td class="Cell"><p class="ValueDesc">The UID type to match</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const
TUidType&amp; aMatchUid</code></td>
<td class="Cell"><p class="ValueDesc">The UID type to match against</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool</code></td>
<td class="Cell"><p class="ValueDesc">True if the UIDs match, otherwise false</p></td>
</tr>
</table></td></tr></table>
<a name="2.9.9"></a></div><div class="Head3">
<a name="%3a%3aBaflUtils%3a%3aGetSystemDrive%28%29"></a>
<hr size="1" noshade>
<h3><code>GetSystemDrive()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static TInt GetSystemDrive(TDriveNumber&amp; aDriveNumber);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.1
</p><h4 class="subheading">Description</h4>
<p> Gets the value of the system drive, if one has been
set.</p>
<p> The system drive can be set to one of the built-in read/write
drives. Which drive is used is hardware-dependent. On some hardware, there may
not be a system drive. The system drive is used as the drive on which
localisable files are searched for.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TDriveNumber&amp; aDriveNumber</code></td>
<td class="Cell"><p class="ValueDesc">On return, contains the drive number of the system
drive.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise one of the
system error codes. <code>KErrNotFound</code> is returned if no valid system
drive is currently set. If anything other than <code>KErrNone</code> is
returned, the value of <code>aDriveNumber</code> is undefined.</p></td>
</tr>
</table></td></tr></table>
<a name="2.9.10"></a></div><div class="Head3">
<a name="%3a%3aBaflUtils%3a%3aUpdateDiskListL%28%29"></a>
<hr size="1" noshade>
<h3><code>UpdateDiskListL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static void UpdateDiskListL(const RFs&amp; aFs,CDesCArray&amp; aArray,TBool aIncludeRom,TDriveNumber aDriveNumber);</code></p><h4 class="subheading">Description</h4>
<p>Retrieves a list of all drives present on the system.</p>
<p>The file server is interrogated for a list of the drive letters
for all available drives. The drive letter that corresponds to
<code>aDriveNumber</code> is added to the list regardless of whether it is
present, or is corrupt. Also, the C: drive and the primary partitions on
removable media slots are forced onto the list, even if corrupt or not
present.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const
RFs&amp; aFs</code></td>
<td class="Cell"><p class="ValueDesc">A connected session with the file server.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const
CDesCArray&amp; aArray</code></td>
<td class="Cell"><p class="ValueDesc">On return, contains the drive letters that correspond to the
available drives. The drive letters are uppercase and are in alphabetical
order.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const
TBool aIncludeRom</code></td>
<td class="Cell"><p class="ValueDesc">Specify <code>ETrue</code> if the ROM drive should be included
in the list, <code>EFalse</code> if not.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDriveNumber aDriveNumber</code></td>
<td class="Cell"><p class="ValueDesc">The drive to force into the list, e.g. the drive in the default
path.</p></td>
</tr>
</table></td></tr></table>
<a name="2.9.11"></a></div><div class="Head3">
<a name="%3a%3aBaflUtils%3a%3aSortByTable%28%29"></a>
<hr size="1" noshade>
<h3><code>SortByTable()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static TInt SortByTable(CDir&amp; aDir,CBaflFileSortTable* aTable);</code></p><h4 class="subheading">Description</h4>
<p>Sorts files by UID.</p>
<p> The caller supplies a table which specifies the order in which
files are to be sorted. The files whose UID3 is the first UID in the table
appear first. The files whose UID3 is the UID specified second appear next, and
so on. Files whose UID3 is not specified in the table, and directories, appear
at the end of the list, with directories preceding the files, and with files
sorted in ascending order of UID3.</p>
<p>This function is used for customising how lists of application
files are sorted.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CDir&amp; aDir</code></td>
<td class="Cell"><p class="ValueDesc">The array of files and directories to sort.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">CBaflFileSortTable* aTable</code></td>
<td class="Cell"><p class="ValueDesc">A sort order table containing the UIDs to use in the
sort.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise one of the
standard error codes.</p></td>
</tr>
</table></td></tr></table>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
