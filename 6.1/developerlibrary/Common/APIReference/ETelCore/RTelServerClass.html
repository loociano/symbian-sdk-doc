<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>RTelServer</title>
<link href="../../../stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../_index/index.html"><img
src="../../../stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="RPhoneClass.html"><img src="../../../stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="RTelSubSessionBaseClass.html"><img src="../../../stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">ETel&nbsp;Core</a>&nbsp;<span class="separator">&#187;</span>
RTelServer</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code>etel.h</code>
<br>Link against: <code>etel.lib</code>
</p>
</div><div class="Head1">
<a name="%3a%3aRTelServer"></a>

<h1>Class <code>RTelServer</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>RTelServer</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.0
</p><h4 class="subheading">Description</h4>
<p>Root telephony server session.</p><p>Provides access to general telephony information and functionality.
Clients wishing to use the ETel Server must open a connection with the root
server using the functions defined in this class. They may then obtain
information about loaded TSY modules, and the phones that they support. To
access functionality associated with a specific phone, the client must open a
sub-session for that phone.</p>
<p>This class is not intended for user derivation</p><h4 class="subheading">Derivation</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr><td class="Cell"><code><a href="../Handles/RHandleBaseClass.html#%3a%3aRHandleBase">RHandleBase</a></code></td><td class="Cell">Handle to an object</td>
</tr>
<tr><td class="Cell"><code><a href="../ClientServer/RSessionBaseClass.html#%3a%3aRSessionBase">RSessionBase</a></code></td><td class="Cell">Client-side handle to a session with a server</td>
</tr>
<tr><td class="Cell"><code>RTelServer</code></td><td class="Cell">Root telephony server session</td>
</tr>
</table></td></tr></table>
<p>Defined in <code>RTelServer</code>:
<br><code class="ApiItem"><a href="RTelServerClass.html#%3a%3aRTelServer%3a%3aAnonymous" title="Default number of message slots">Anonymous</a></code>, <code class="ApiItem"><a href="RTelServerClass.html#%3a%3aRTelServer%3a%3aConnect%28%29" title="Connects the client to the ETel Server">Connect()</a></code>, <code class="ApiItem"><a href="RTelServerClass.html#%3a%3aRTelServer%3a%3aEErrorBasic" title="Client is only interested in core errors">EErrorBasic</a></code>, <code class="ApiItem"><a href="RTelServerClass.html#%3a%3aRTelServer%3a%3aEErrorExtended" title="Client is interested in extended errors">EErrorExtended</a></code>, <code class="ApiItem"><a href="RTelServerClass.html#%3a%3aRTelServer%3a%3aENetworkTypeMobileAnalog" title="Mobile analog network (not supported by ETel)">ENetworkTypeMobileAnalog</a></code>, <code class="ApiItem"><a href="RTelServerClass.html#%3a%3aRTelServer%3a%3aENetworkTypeMobileDigital" title="Mobile digital network">ENetworkTypeMobileDigital</a></code>, <code class="ApiItem"><a href="RTelServerClass.html#%3a%3aRTelServer%3a%3aENetworkTypeUnknown" title="Unknown network type">ENetworkTypeUnknown</a></code>, <code class="ApiItem"><a href="RTelServerClass.html#%3a%3aRTelServer%3a%3aENetworkTypeWiredAnalog" title="Wired analog network">ENetworkTypeWiredAnalog</a></code>, <code class="ApiItem"><a href="RTelServerClass.html#%3a%3aRTelServer%3a%3aENetworkTypeWiredDigital" title="Wired digital network (not supported by ETel)">ENetworkTypeWiredDigital</a></code>, <code class="ApiItem"><a href="RTelServerClass.html#%3a%3aRTelServer%3a%3aEnumeratePhones%28%29" title="Gets the total number of phones supported by all the currently loaded ETel (TSY) modules">EnumeratePhones()</a></code>, <code class="ApiItem"><a href="RTelServerClass.html#%3a%3aRTelServer%3a%3aGetPhoneInfo%28%29" title="Gets information associated with the specified phone">GetPhoneInfo()</a></code>, <code class="ApiItem"><a href="RTelServerClass.html#%3a%3aRTelServer%3a%3aGetTsyName%28%29" title="Gets the name of the TSY module to which the phone belongs">GetTsyName()</a></code>, <code class="ApiItem"><a href="RTelServerClass.html#%3a%3aRTelServer%3a%3aGetTsyVersionNumber%28%29" title="Gets the version number of the specified TSY module">GetTsyVersionNumber()</a></code>, <code class="ApiItem"><a href="RTelServerClass.html#%3a%3aRTelServer%3a%3aIsSupportedByModule%28%29" title="Tests what types of extended functionality a TSY module supports">IsSupportedByModule()</a></code>, <code class="ApiItem"><a href="RTelServerClass.html#%3a%3aRTelServer%3a%3aKDefaultMessageSlots%20" title="Default number of message slots = 32">KDefaultMessageSlots</a></code>, <code class="ApiItem"><a href="RTelServerClass.html#%3a%3aRTelServer%3a%3aLoadPhoneModule%28%29" title="Loads an ETel TSY module">LoadPhoneModule()</a></code>, <code class="ApiItem"><a href="RTelServerClass.html#%3a%3aRTelServer%3a%3aRTelServer%28%29" title="Empty default C++ constructor">RTelServer()</a></code>, <code class="ApiItem"><a href="RTelServerClass.html#%3a%3aRTelServer%3a%3aSetExtendedErrorGranularity%28%29" title="Requests the server to register the specified error granularity against the client which calls it">SetExtendedErrorGranularity()</a></code>, <code class="ApiItem"><a href="RTelServerClass.html#%3a%3aRTelServer%3a%3aSetPriorityClient%28%29" title="Requests the server to allocate priority status to the client that calls it">SetPriorityClient()</a></code>, <code class="ApiItem"><a href="RTelServerClass.html#%3a%3aRTelServer%3a%3aTErrorGranularity" title="Error granularity flags">TErrorGranularity</a></code>, <code class="ApiItem"><a href="RTelServerClass.html#%3a%3aRTelServer%3a%3aTNetworkType" title="Types of telephony connection flags">TNetworkType</a></code>, <code class="ApiItem"><a href="RTelServerClass.html#%3a%3aRTelServer%3a%3aTPhoneInfo" title="Phone information">TPhoneInfo</a></code>, <code class="ApiItem"><a href="RTelServerClass.html#%3a%3aRTelServer%3a%3aUnloadPhoneModule%28%29" title="Unloads an ETel TSY module">UnloadPhoneModule()</a></code>, <code class="ApiItem"><a href="RTelServerClass.html#%3a%3aRTelServer%3a%3aVersion%28%29" title="Gets the version number of the ETel server">Version()</a></code>
</p>
<p>Inherited from <code class="ApiItem"><a href="../Handles/RHandleBaseClass.html#%3a%3aRHandleBase" title="Handle to an object">RHandleBase</a></code>:
<br><code class="ApiItem"><a href="../Handles/RHandleBaseClass.html#%3a%3aRHandleBase%3a%3aClose%28%29" title="Closes the handle">Close()</a></code>,
<code class="ApiItem"><a href="../Handles/RHandleBaseClass.html#%3a%3aRHandleBase%3a%3aDuplicate%28%29" title="Creates a valid handle to the Kernel object to which the specified thread already has a handle">Duplicate()</a></code>,
<code class="ApiItem"><a href="../Handles/RHandleBaseClass.html#%3a%3aRHandleBase%3a%3aHandle%28%29" title="Retrieves the handle-number of the object associated with this handle">Handle()</a></code>,
<code class="ApiItem"><a href="../Handles/RHandleBaseClass.html#%3a%3aRHandleBase%3a%3aSetHandle%28%29" title="Use this function to set the handle-number of this handle to the specified value">SetHandle()</a></code></p>
<p>Inherited from <code class="ApiItem"><a href="../ClientServer/RSessionBaseClass.html#%3a%3aRSessionBase" title="Client-side handle to a session with a server">RSessionBase</a></code>:
<br><code class="ApiItem"><a href="../ClientServer/RSessionBaseClass.html#%3a%3aRSessionBase%3a%3aAttach%28%29" title="Explicitly attaches a thread to the session">Attach()</a></code>,
<code class="ApiItem"><a href="../ClientServer/RSessionBaseClass.html#%3a%3aRSessionBase%3a%3aCreateSession%28%29" title="Creates a session with a server">CreateSession()</a></code>,
<code class="ApiItem"><a href="../ClientServer/RSessionBaseClass.html#%3a%3aRSessionBase%3a%3aEAutoAttach" title="Client threads are auto-attached to the session">EAutoAttach</a></code>,
<code class="ApiItem"><a href="../ClientServer/RSessionBaseClass.html#%3a%3aRSessionBase%3a%3aEExplicitAttach" title="Client threads explicitly attach to the session">EExplicitAttach</a></code>,
<code class="ApiItem"><a href="../ClientServer/RSessionBaseClass.html#%3a%3aRSessionBase%3a%3aSend%28%29" title="Sends a blind message to the server -- no reply is expected">Send()</a></code>,
<code class="ApiItem"><a href="../ClientServer/RSessionBaseClass.html#%3a%3aRSessionBase%3a%3aSendReceive%28%29" title="Sends a message to the server and waits synchronously for the reply">SendReceive()</a></code>,
<code class="ApiItem"><a href="../ClientServer/RSessionBaseClass.html#%3a%3aRSessionBase%3a%3aSetRetry%28%29" title="Changes the retry parameters used to resend a message if the server is busy">SetRetry()</a></code>,
<code class="ApiItem"><a href="../ClientServer/RSessionBaseClass.html#%3a%3aRSessionBase%3a%3aShare%28%29" title="Makes the session shared among all threads in the process">Share()</a></code>,
<code class="ApiItem"><a href="../ClientServer/RSessionBaseClass.html#%3a%3aRSessionBase%3a%3aTAttachMode" title="Indicates whether threads in the process are automatically attached to the session when passed as a parameter to the Share() function">TAttachMode</a></code></p>
<a name="2.6"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Construction and destruction</h2>
</div><div class="Bodytext">
<a name="2.6.2"></a></div><div class="Head3">
<a name="%3a%3aRTelServer%3a%3aRTelServer%28%29"></a>
<hr size="1" noshade>
<h3><code>RTelServer()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>RTelServer();</code></p><h4 class="subheading">Description</h4>
<p>Empty default C++ constructor.</p><p>Constructs and empty <code>RTelServer</code> object, and is
present only to support virtual function table export.</p>
<a name="2.7"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Connection request</h2>
</div><div class="Bodytext">
<a name="2.7.2"></a></div><div class="Head3">
<a name="%3a%3aRTelServer%3a%3aConnect%28%29"></a>
<hr size="1" noshade>
<h3><code>Connect()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Connect(TInt aMessageSlots = KDefaultMessageSlots);</code></p><h4 class="subheading">Description</h4>
<p>Connects the client to the ETel Server. It must be used before
any of other functions during a telephony session.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aMessageSlots</code></td>
<td class="Cell"><p class="ValueDesc">The number of message slots available to this session.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Query functions</h2>
</div><div class="Bodytext">
<a name="2.8.2"></a></div><div class="Head3">
<a name="%3a%3aRTelServer%3a%3aVersion%28%29"></a>
<hr size="1" noshade>
<h3><code>Version()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TVersion Version() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the version number of the ETel server.</p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TVersion</code></td>
<td class="Cell"><p class="ValueDesc">The server version and build numbers.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.3"></a></div><div class="Head3">
<a name="%3a%3aRTelServer%3a%3aEnumeratePhones%28%29"></a>
<hr size="1" noshade>
<h3><code>EnumeratePhones()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt EnumeratePhones(TInt&amp; aIndex) const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the total number of phones supported by all the currently loaded
ETel (TSY) modules.</p>
<p>Note:</p>
<ul>
<li>
<p>This function can be used in a <code>for</code> loop for use on
the <code>GetPhoneInfo()</code> function, which gets the phone information for
all TSYs.</p>
</li>
</ul><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt&amp; aIndex</code></td>
<td class="Cell"><p class="ValueDesc">On return, contains the total number of phones belonging to the
currently loaded modules.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.4"></a></div><div class="Head3">
<a name="%3a%3aRTelServer%3a%3aGetPhoneInfo%28%29"></a>
<hr size="1" noshade>
<h3><code>GetPhoneInfo()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt GetPhoneInfo(const TInt aIndex,TPhoneInfo&amp; aInfo) const;</code></p><h4 class="subheading">Description</h4>
<p>Gets information associated with the specified
phone.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const TInt aIndex</code></td>
<td class="Cell"><p class="ValueDesc">Index of the specified phone.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TPhoneInfo&amp; aInfo</code></td>
<td class="Cell"><p class="ValueDesc">On return, contains the phone information.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.5"></a></div><div class="Head3">
<a name="%3a%3aRTelServer%3a%3aGetTsyName%28%29"></a>
<hr size="1" noshade>
<h3><code>GetTsyName()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt GetTsyName(const TInt aIndexOfPhone, TDes&amp; aTsyName) const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the name of the TSY module to which the phone
belongs.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const TInt aIndexOfPhone</code></td>
<td class="Cell"><p class="ValueDesc">Index of the specified phone.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TDes&amp; aTsyName</code></td>
<td class="Cell"><p class="ValueDesc">On return, contains the name of the TSY module.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the system-wide
error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.6"></a></div><div class="Head3">
<a name="%3a%3aRTelServer%3a%3aGetTsyVersionNumber%28%29"></a>
<hr size="1" noshade>
<h3><code>GetTsyVersionNumber()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt GetTsyVersionNumber(const TDesC&amp; aTsyName,TVersion&amp; aVersion) const;</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.1
</p><h4 class="subheading">Description</h4>
<p>Gets the version number of the specified TSY module.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const TDesC&amp; aTsyName</code></td>
<td class="Cell"><p class="ValueDesc">TSY module for which to get version number</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TVersion&amp; aVersion</code></td>
<td class="Cell"><p class="ValueDesc">On return, the version number</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the system-wide
error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.7"></a></div><div class="Head3">
<a name="%3a%3aRTelServer%3a%3aIsSupportedByModule%28%29"></a>
<hr size="1" noshade>
<h3><code>IsSupportedByModule()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt IsSupportedByModule(const TDesC&amp; aTsyName, const TInt aMixin, TBool&amp; aResult) const;</code></p><h4 class="subheading">Description</h4>
<p>Tests what types of extended functionality a TSY module supports. It is
assumed the TSY module supports all functionality defined in this, the core,
API.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const TDesC&amp; aTsyName</code></td>
<td class="Cell"><p class="ValueDesc">The name of the TSY module.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const TInt aMixin</code></td>
<td class="Cell"><p class="ValueDesc">A bitmask of the extended functionality constants. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TBool&amp; aResult</code></td>
<td class="Cell"><p class="ValueDesc">On return, contains the result of the query: TRUE (functionality
available) or FALSE (functionality unavailable).</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, <code>KErrNotFound</code> if the
specified TSY module is not available, otherwise another of the system-wide
error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.9"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Modifier functions</h2>
</div><div class="Bodytext">
<a name="2.9.2"></a></div><div class="Head3">
<a name="%3a%3aRTelServer%3a%3aLoadPhoneModule%28%29"></a>
<hr size="1" noshade>
<h3><code>LoadPhoneModule()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt LoadPhoneModule(const TDesC&amp; aFileName) const;</code></p><h4 class="subheading">Description</h4>
<p>Loads an ETel TSY module. The name of the TSY to be loaded can be
obtained in two ways. Firstly it can be obtained by querying the CommDb for the
current TSY. Secondly, users can find TSY names by searching the \System\Libs\
directory for files with the extension tsy.</p>
<p>Notes:</p>
<ul>
<li>
<p>The file name need not include the TSY extension, as this is added by the
server.</p>
</li>
<li>
<p>Once loaded, information about the phone(s) added by the module can be
accessed using the <code>EnumeratePhones()</code>
and<code>GetPhoneInfo()</code> functions.</p>
</li>
<li>
<p>The name for the TSY should not be hard coded, but rather obtained using
the procedures described above.</p>
</li>
</ul><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const TDesC&amp; aFileName</code></td>
<td class="Cell"><p class="ValueDesc">The name of the module to be loaded.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the system-wide
error codes.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="UsingRTelServerClass.guide.html#ETelCore%2eusing%2eloadtsy" title="Using RTelServer class / Loading a TSY module">Loading a TSY module</a></li>
</ul>
<a name="2.9.3"></a></div><div class="Head3">
<a name="%3a%3aRTelServer%3a%3aUnloadPhoneModule%28%29"></a>
<hr size="1" noshade>
<h3><code>UnloadPhoneModule()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt UnloadPhoneModule(const TDesC&amp; aFileName) const;</code></p><h4 class="subheading">Description</h4>
<p>Unloads an ETel TSY module.</p>
<p>Notes:</p>
<ul>
<li>
<p>The file name need not include the TSY extension, as this is added by the
server.</p>
</li>
<li>
<p>TSY modules are automatically unloaded when the
<code>RTelServer</code>session is closed, unless in use by another
session.</p>
</li>
</ul><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const TDesC&amp; aFileName</code></td>
<td class="Cell"><p class="ValueDesc">The name of the module to be unloaded.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the system-wide
error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.9.4"></a></div><div class="Head3">
<a name="%3a%3aRTelServer%3a%3aSetExtendedErrorGranularity%28%29"></a>
<hr size="1" noshade>
<h3><code>SetExtendedErrorGranularity()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt SetExtendedErrorGranularity(const TErrorGranularity aGranularity) const;</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.1
</p><h4 class="subheading">Description</h4>
<p>Requests the server to register the specified error granularity against
the client which calls it.</p>
<p>The options for error granularity are:</p>
<ul>
<li>
<p>core error granularity, the default, means that a client will only
receive errors using ETel and System error codes</p>
</li>
<li>
<p>extended error granularity allows a client to receive richer error
information, using additional proprietary client/TSY error codes</p>
</li>
</ul>
<p>After registering interest in extended errors, the client will receive an
extended error code whenever a requests ends in an error that is translated by
the TSY into one of the proprietary extended error codes. If an error occurs
that the TSY cannot translate into an extended error, then the TSY will return
one of the core errors instead. For this reason, the core error space and the
extended error space must not clash. </p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const TErrorGranularity aGranularity</code></td>
<td class="Cell"><p class="ValueDesc">Error granularity to set</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the system-wide
error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.9.5"></a></div><div class="Head3">
<a name="%3a%3aRTelServer%3a%3aSetPriorityClient%28%29"></a>
<hr size="1" noshade>
<h3><code>SetPriorityClient()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt SetPriorityClient() const;</code></p><h4 class="subheading">Description</h4>
<p>Requests the server to allocate priority status to the client that calls
it. </p><p>To prevent an out of memory error, the server uses pre-allocated memory to
service the requests of priority clients.</p>
<p>Notes:</p>
<ul>
<li>
<p>Only one client may have priority status in the system, and the first
client to ask for it receives it. If another application has been given
priority client status, the function
returns<code>KErrAlreadyExists</code>.</p>
</li>
<li>
<p>Priority status should be requested early in an application's
execution.</p>
</li>
<li>
<p>The server pre-allocates only a small amount of memory. If there is more
than one active priority request it may run out. This is not an issue in ER5 as
there is only one priority request â€” the emergency call.</p>
</li>
</ul><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, <code>KErrNoMemory</code> if a leave
occurs during the pre-allocation of memory, otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.10"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Enumerations</h2>
</div><div class="Bodytext">
<a name="2.10.2"></a></div><div class="Head3">
<a name="%3a%3aRTelServer%3a%3aAnonymous"></a>
<hr size="1" noshade>
<h3>Enum <code>Anonymous</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>Anonymous</code></p><h4 class="subheading">Description</h4>
<p>Default number of message slots.</p>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><a name="%3a%3aRTelServer%3a%3aKDefaultMessageSlots%20"><code class="Value">KDefaultMessageSlots </code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>Default number of message slots = 32</para></p></td>
</tr>
</table></td></tr></table>
<a name="2.10.3"></a></div><div class="Head3">
<a name="%3a%3aRTelServer%3a%3aTErrorGranularity"></a>
<hr size="1" noshade>
<h3>Enum <code>TErrorGranularity</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TErrorGranularity</code></p><h4 class="subheading">Description</h4>
<p>Error granularity flags.</p><table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><a name="%3a%3aRTelServer%3a%3aEErrorBasic"><code class="Value">EErrorBasic</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>Client is only interested in core errors</para></p></td>
</tr>
<tr valign="top">
<td class="Cell" ><a name="%3a%3aRTelServer%3a%3aEErrorExtended"><code class="Value">EErrorExtended</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>Client is interested in extended errors</para></p></td>
</tr>
</table></td></tr></table>
<a name="2.10.4"></a></div><div class="Head3">
<a name="%3a%3aRTelServer%3a%3aTNetworkType"></a>
<hr size="1" noshade>
<h3>Enum <code>TNetworkType</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TNetworkType</code></p><h4 class="subheading">Description</h4>
<p>Types of telephony connection flags.</p><table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><a name="%3a%3aRTelServer%3a%3aENetworkTypeWiredAnalog"><code class="Value">ENetworkTypeWiredAnalog</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>Wired analog network.</para></p></td>
</tr>
<tr valign="top">
<td class="Cell" ><a name="%3a%3aRTelServer%3a%3aENetworkTypeWiredDigital"><code class="Value">ENetworkTypeWiredDigital</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>Wired digital network (not supported by ETel).</para></p></td>
</tr>
<tr valign="top">
<td class="Cell" ><a name="%3a%3aRTelServer%3a%3aENetworkTypeMobileAnalog"><code class="Value">ENetworkTypeMobileAnalog</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>Mobile analog network (not supported by ETel).</para></p></td>
</tr>
<tr valign="top">
<td class="Cell" ><a name="%3a%3aRTelServer%3a%3aENetworkTypeMobileDigital"><code class="Value">ENetworkTypeMobileDigital</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>Mobile digital network.</para></p></td>
</tr>
<tr valign="top">
<td class="Cell" ><a name="%3a%3aRTelServer%3a%3aENetworkTypeUnknown"><code class="Value">ENetworkTypeUnknown</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>Unknown network type.</para></p></td>
</tr>
</table></td></tr></table>
<a name="2.11"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Struct</h2>
</div><div class="Bodytext">
<a name="2.11.2"></a></div><div class="Head3">
<a name="%3a%3aRTelServer%3a%3aTPhoneInfo"></a>
<hr size="1" noshade>
<h3>Struct <code>TPhoneInfo</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TPhoneInfo</code></p><h4 class="subheading">Description</h4>
<p>Phone information.</p><p>Defined in <code>RTelServer::TPhoneInfo</code>:
<br><code class="ApiItem"><a href="RTelServerClass.html#%3a%3aRTelServer%3a%3aTPhoneInfo%3a%3aiExtensions" title="The extensions that the TSY module supports">iExtensions</a></code>, <code class="ApiItem"><a href="RTelServerClass.html#%3a%3aRTelServer%3a%3aTPhoneInfo%3a%3aiName" title="The name of the phone">iName</a></code>, <code class="ApiItem"><a href="RTelServerClass.html#%3a%3aRTelServer%3a%3aTPhoneInfo%3a%3aiNetworkType" title="The type of telephony connection supported by the phone">iNetworkType</a></code>, <code class="ApiItem"><a href="RTelServerClass.html#%3a%3aRTelServer%3a%3aTPhoneInfo%3a%3aiNumberOfLines" title="The number of lines supported by the phone">iNumberOfLines</a></code>
</p>
<a name="2.11.2.4"></a><a name="%3a%3aRTelServer%3a%3aTPhoneInfo%3a%3aiNetworkType"></a>
<h4><code>iNetworkType</code></h4><hr size="8" noshade>
<p class="Prototype"><code>TNetworkType iNetworkType</code></p><h4 class="subheading">Description</h4>
<p>The type of telephony connection supported by the
phone.</p>
<a name="2.11.2.5"></a><a name="%3a%3aRTelServer%3a%3aTPhoneInfo%3a%3aiName"></a>
<h4><code>iName</code></h4><hr size="8" noshade>
<p class="Prototype"><code>TName iName</code></p><h4 class="subheading">Description</h4>
<p>The name of the phone.</p>
<a name="2.11.2.6"></a><a name="%3a%3aRTelServer%3a%3aTPhoneInfo%3a%3aiNumberOfLines"></a>
<h4><code>iNumberOfLines</code></h4><hr size="8" noshade>
<p class="Prototype"><code>TUint iNumberOfLines</code></p><h4 class="subheading">Description</h4>
<p>The number of lines supported by the phone.</p>
<a name="2.11.2.7"></a><a name="%3a%3aRTelServer%3a%3aTPhoneInfo%3a%3aiExtensions"></a>
<h4><code>iExtensions</code></h4><hr size="8" noshade>
<p class="Prototype"><code>TUint iExtensions</code></p><h4 class="subheading">Description</h4>
<p>The extensions that the TSY module supports.</p>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
